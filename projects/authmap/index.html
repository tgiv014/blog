<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Authmap - mntn.dev</title><meta name=generator content="Hugo 0.119.0"><link rel=stylesheet href=/styles.css></head><body class="antialiased bg-amber-100 w-full"><div class="bg-amber-50 flex flex-col items-center min-h-screen mx-auto md:max-w-4xl border-x-2 border-stone-700"><header class="w-full px-8 border-b-2 border-stone-700"><nav class="relative flex items-end justify-between flex-wrap py-4 text-stone-900 text-3xl md:text-4xl"><a href=https://mntn.dev/ class="flex items-center hover:underline decoration-amber-400 font-extrabold">mntn.dev</a><ul id=nav-menu class="flex w-full sm:w-auto mt-2 sm:mt-0 space-x-6 text-xl"><li><a href=https://mntn.dev/projects/ class="hover:underline decoration-amber-400 tracking-tight">Projects</a></li><li><a href=https://mntn.dev/posts/ class="hover:underline decoration-amber-400 tracking-tight">Posts</a></li></ul></nav></header><main class="flex-1 w-full"><article class="justify-self-center mt-4"><div class="border-b-2 border-stone-700 px-8 lg:py-4"><h1 class="text-3xl md:text-4xl text-stone-900 mb-2">Authmap</h1><h3 class="text-stone-900 mb-2 text-sm md:text-lg">February 6, 2021</h3></div><div class="border-b-2 border-stone-700 px-8 mt-4 pb-4"><div class="max-w-none
prose prose-sm prose-stone md:prose-lg
prose-pre:px-8 prose-pre:-mx-8 prose-pre:rounded-none
prose-blockquote:border-l-8
prose-img:mx-auto
prose-figcaption:text-center
hover:prose-a:decoration-amber-400"><p><img src=authmap.png alt="Authmap Image"></p><p>Shortly after opening up my home server&rsquo;s ssh port to the world (with only public/private key auth enabled), I started getting a flood of attempted ssh requests from all over the place. Out of curiosity, I wanted to see them plotted out on my Grafana dashboard so I started putting together a small service that reads SSH authentication attempts, parses them, and pushes them into influxdb.</p><p>This project originally started out as my first foray into Rust. Pretty soon after that, I began experimenting with Golang for systems programming and decided to port what I had made so far into Go. Links for both versions below:</p><ul><li><a href=https://github.com/tgiv014/authmap>Authmap (Rust)</a> (Not maintained)</li><li><a href=https://github.com/tgiv014/authmap_go>Authmap (Go)</a></li></ul><h1 id=goals>Goals</h1><p>I have a few goals to refine this project into something more useful:</p><ul><li>Remove every instance of hardcoding and read all configurables from a YAML file.<ul><li>Done! Now, the only hardcoded configuration item is the config&rsquo;s location. The application will also generate a default configuration automatically if a config is not found.</li></ul></li><li>Allow grouping requests from the same IP/location in a smart way.<ul><li>Done! The <code>ip</code> field is now a tag. This allows grouping by ip and aggregating results within those groups.</li></ul></li><li>Automate downloading the MaxMind GeoIP database.<ul><li>This will require user interaction since the database has licensing requirements now.</li></ul></li><li>Make the docker container for this package more accessible.<ul><li>Done! Authmap (go) is now available from docker hub as <code>tgiv014/authmap:latest</code>. See <a href=https://github.com/tgiv014/authmap_go>the Authmap repo</a> for installation instructions and an example docker-compose configuration</li></ul></li></ul></div></div></article></main><footer class="relative bottom-0 w-full p-4 text-sm text-center font-mono text-stone-700"><p>Â© 2023 Thomas Gorham | Made with
<a href=https://gohugo.io class="underline hover:text-amber-700">Hugo</a></p></footer></div></body></html>