<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Authmap - mntn.dev</title><meta name=generator content="Hugo 0.117.0"><link rel=stylesheet href=/styles.css></head><body class="antialiased bg-amber-50 w-full"><div class="flex flex-col items-center min-h-screen w-full"><div class=w-full><div class="mx-auto md:max-w-4xl px-8 lg:px-0"><header class=w-full><nav class="relative flex items-end justify-between flex-wrap py-4 lg:pt-8 text-stone-900 text-3xl md:text-4xl"><a href=https://mntn.dev/ class="flex items-center italic hover:underline decoration-amber-400 font-black tracking-tighter">mntn.dev</a><ul id=nav-menu class="flex w-full sm:w-auto mt-2 sm:mt-0 space-x-6 text-xl"><li><a href=https://mntn.dev/projects/ class="hover:underline decoration-amber-400 tracking-tight">Projects</a></li><li><a href=https://mntn.dev/posts/ class="hover:underline decoration-amber-400 tracking-tight">Posts</a></li></ul></nav></header></div></div><div class="flex-1 w-full"><main class="mx-auto md:max-w-4xl"><article class="justify-self-center mb-4 mt-4 sm:mt-16 mx-8 lg:mx-0"><div class="flex border-b-2 border-stone-700 mb-8 gap-2 md:gap-4"><div class=flex-1><h2 class="text-3xl md:text-4xl text-stone-900">Authmap</h2><h3 class="font-mono text-base md:text-lg text-stone-800 mb-2">February 6, 2021</h3></div></div><div class="prose prose-sm max-w-none md:prose-lg prose-p:text-stone-900 prose-headings:text-stone-900 prose-p:indent-12 prose-pre:rounded-xl prose-pre:bg-stone-800 prose-blockquote:border-l-8 prose-img:mx-auto prose-figcaption:text-center hover:prose-a:decoration-amber-400 prose-hr:border-stone-300"><p><img src=authmap.png alt="Authmap Image"></p><p>Shortly after opening up my home server&rsquo;s ssh port to the world (with only public/private key auth enabled), I started getting a flood of attempted ssh requests from all over the place. Out of curiosity, I wanted to see them plotted out on my Grafana dashboard so I started putting together a small service that reads SSH authentication attempts, parses them, and pushes them into influxdb.</p><p>This project originally started out as my first foray into Rust. Pretty soon after that, I began experimenting with Golang for systems programming and decided to port what I had made so far into Go. Links for both versions below:</p><ul><li><a href=https://github.com/tgiv014/authmap>Authmap (Rust)</a> (Not maintained)</li><li><a href=https://github.com/tgiv014/authmap_go>Authmap (Go)</a></li></ul><h1 id=goals>Goals</h1><p>I have a few goals to refine this project into something more useful:</p><ul><li>Remove every instance of hardcoding and read all configurables from a YAML file.<ul><li>Done! Now, the only hardcoded configuration item is the config&rsquo;s location. The application will also generate a default configuration automatically if a config is not found.</li></ul></li><li>Allow grouping requests from the same IP/location in a smart way.<ul><li>Done! The <code>ip</code> field is now a tag. This allows grouping by ip and aggregating results within those groups.</li></ul></li><li>Automate downloading the MaxMind GeoIP database.<ul><li>This will require user interaction since the database has licensing requirements now.</li></ul></li><li>Make the docker container for this package more accessible.<ul><li>Done! Authmap (go) is now available from docker hub as <code>tgiv014/authmap:latest</code>. See <a href=https://github.com/tgiv014/authmap_go>the Authmap repo</a> for installation instructions and an example docker-compose configuration</li></ul></li></ul></div></article></main></div><footer class="relative bottom-0 w-full p-4 text-sm text-center font-mono text-stone-700"><p>Â© 2023 Thomas Gorham | Made with
<a href=https://gohugo.io class="underline hover:text-amber-700">Hugo</a></p></footer></div></body></html>